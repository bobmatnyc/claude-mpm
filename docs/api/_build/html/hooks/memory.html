

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Memory Hooks &mdash; Claude MPM API Reference 3.8.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=dbb19ff3" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=dbb19ff3" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=070f1fcc"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Validation Hooks" href="validation.html" />
    <link rel="prev" title="Hook Interceptors" href="interceptors.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >

          
          
          <a href="../index.html" class="icon icon-home">
            Claude MPM API Reference
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Core API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../core/index.html">Core API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../services/index.html">Services API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../agents/index.html">Agents API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Hooks API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="base.html">Base Hooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="interceptors.html">Hook Interceptors</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Memory Hooks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-claude_mpm.hooks.memory_integration_hook">Memory Integration Hook</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#claude_mpm.hooks.memory_integration_hook.MemoryPreDelegationHook"><code class="docutils literal notranslate"><span class="pre">MemoryPreDelegationHook</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#claude_mpm.hooks.memory_integration_hook.MemoryPostDelegationHook"><code class="docutils literal notranslate"><span class="pre">MemoryPostDelegationHook</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="validation.html">Validation Hooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#hook-types">Hook Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#architecture-benefits">Architecture Benefits</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cli/index.html">CLI API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">claude_mpm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../py-modindex.html">Module Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../search.html">Search Page</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Claude MPM API Reference</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Hooks API</a></li>
      <li class="breadcrumb-item active">Memory Hooks</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/hooks/memory.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="memory-hooks">
<h1>Memory Hooks<a class="headerlink" href="#memory-hooks" title="Link to this heading"></a></h1>
<p>Memory hooks provide integration between the hook system and memory management capabilities.</p>
<section id="module-claude_mpm.hooks.memory_integration_hook">
<span id="memory-integration-hook"></span><h2>Memory Integration Hook<a class="headerlink" href="#module-claude_mpm.hooks.memory_integration_hook" title="Link to this heading"></a></h2>
<p>Memory integration hooks for automatic agent memory management.</p>
<p>WHY: Agents need to accumulate project-specific knowledge over time. These hooks
automatically inject agent memory before delegation and extract learnings after,
enabling agents to become more effective through experience.</p>
<p>DESIGN DECISION: We use explicit markers to extract structured learnings from
agent outputs because:
- It gives agents explicit control over what gets memorized
- The format is clear and unambiguous
- It’s more reliable than pattern matching
- Agents can add multiple learnings in a single response</p>
<dl class="py class">
<dt class="sig sig-object py" id="claude_mpm.hooks.memory_integration_hook.MemoryPreDelegationHook">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">claude_mpm.hooks.memory_integration_hook.</span></span><span class="sig-name descname"><span class="pre">MemoryPreDelegationHook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../claude_mpm.core.config.html#claude_mpm.core.config.Config" title="claude_mpm.core.config.Config"><span class="pre">Config</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/claude_mpm/hooks/memory_integration_hook.html#MemoryPreDelegationHook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#claude_mpm.hooks.memory_integration_hook.MemoryPreDelegationHook" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="base.html#claude_mpm.hooks.base_hook.PreDelegationHook" title="claude_mpm.hooks.base_hook.PreDelegationHook"><code class="xref py py-class docutils literal notranslate"><span class="pre">PreDelegationHook</span></code></a></p>
<p>Inject agent memory into delegation context.</p>
<p>WHY: Agents perform better when they have access to accumulated project knowledge.
This hook loads agent-specific memory and adds it to the delegation context,
allowing agents to apply learned patterns and avoid known mistakes.</p>
<p>DESIGN DECISION: Memory is injected as a clearly formatted section in the context
to ensure agents understand it’s their accumulated knowledge, not current task info.</p>
<dl class="py method">
<dt class="sig sig-object py" id="claude_mpm.hooks.memory_integration_hook.MemoryPreDelegationHook.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../claude_mpm.core.config.html#claude_mpm.core.config.Config" title="claude_mpm.core.config.Config"><span class="pre">Config</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/claude_mpm/hooks/memory_integration_hook.html#MemoryPreDelegationHook.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#claude_mpm.hooks.memory_integration_hook.MemoryPreDelegationHook.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize with optional config.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> – Optional Config object. If not provided, will create default Config.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="claude_mpm.hooks.memory_integration_hook.MemoryPreDelegationHook.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="base.html#claude_mpm.hooks.base_hook.HookContext" title="claude_mpm.hooks.base_hook.HookContext"><span class="pre">HookContext</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="base.html#claude_mpm.hooks.base_hook.HookResult" title="claude_mpm.hooks.base_hook.HookResult"><span class="pre">HookResult</span></a></span></span><a class="reference internal" href="../_modules/claude_mpm/hooks/memory_integration_hook.html#MemoryPreDelegationHook.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#claude_mpm.hooks.memory_integration_hook.MemoryPreDelegationHook.execute" title="Link to this definition"></a></dt>
<dd><p>Add agent memory to delegation context.</p>
<p>WHY: By loading memory before delegation, agents can reference their
accumulated knowledge when performing tasks, leading to better outcomes.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="claude_mpm.hooks.memory_integration_hook.MemoryPostDelegationHook">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">claude_mpm.hooks.memory_integration_hook.</span></span><span class="sig-name descname"><span class="pre">MemoryPostDelegationHook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../claude_mpm.core.config.html#claude_mpm.core.config.Config" title="claude_mpm.core.config.Config"><span class="pre">Config</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/claude_mpm/hooks/memory_integration_hook.html#MemoryPostDelegationHook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#claude_mpm.hooks.memory_integration_hook.MemoryPostDelegationHook" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="base.html#claude_mpm.hooks.base_hook.PostDelegationHook" title="claude_mpm.hooks.base_hook.PostDelegationHook"><code class="xref py py-class docutils literal notranslate"><span class="pre">PostDelegationHook</span></code></a></p>
<p>Extract learnings from delegation results using explicit markers.</p>
<p>WHY: Agents produce valuable insights during task execution. This hook
extracts structured learnings from their outputs using explicit markers,
building up project-specific knowledge over time.</p>
<p>DESIGN DECISION: We use explicit markers to give agents full control over
what gets memorized. This is more reliable than pattern matching and allows
multiple learnings per response. Supports multiple trigger phrases for flexibility.</p>
<p>Supported formats:
# Add To Memory:
Type: pattern
Content: All services use dependency injection for flexibility
#</p>
<p># Memorize:
Type: guideline
Content: Always validate input parameters before processing
#</p>
<p># Remember:
Type: mistake
Content: Never hardcode configuration values
#</p>
<dl class="py method">
<dt class="sig sig-object py" id="claude_mpm.hooks.memory_integration_hook.MemoryPostDelegationHook.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../claude_mpm.core.config.html#claude_mpm.core.config.Config" title="claude_mpm.core.config.Config"><span class="pre">Config</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/claude_mpm/hooks/memory_integration_hook.html#MemoryPostDelegationHook.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#claude_mpm.hooks.memory_integration_hook.MemoryPostDelegationHook.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize with optional config.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> – Optional Config object. If not provided, will create default Config.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="claude_mpm.hooks.memory_integration_hook.MemoryPostDelegationHook.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="base.html#claude_mpm.hooks.base_hook.HookContext" title="claude_mpm.hooks.base_hook.HookContext"><span class="pre">HookContext</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="base.html#claude_mpm.hooks.base_hook.HookResult" title="claude_mpm.hooks.base_hook.HookResult"><span class="pre">HookResult</span></a></span></span><a class="reference internal" href="../_modules/claude_mpm/hooks/memory_integration_hook.html#MemoryPostDelegationHook.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#claude_mpm.hooks.memory_integration_hook.MemoryPostDelegationHook.execute" title="Link to this definition"></a></dt>
<dd><p>Extract and store learnings from delegation result.</p>
<p>WHY: Capturing learnings immediately after task completion ensures we
don’t lose valuable insights that agents discover during execution.</p>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="interceptors.html" class="btn btn-neutral float-left" title="Hook Interceptors" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="validation.html" class="btn btn-neutral float-right" title="Validation Hooks" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Claude MPM Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>