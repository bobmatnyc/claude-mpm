{
  "summary": {
    "total_tests": 6,
    "passed": 5,
    "failed": 1,
    "errors": [],
    "success_rate": 83.33333333333334
  },
  "tests": [
    {
      "name": "wrapper_flag_detection",
      "passed": true,
      "details": {
        "mpm_flags_line": "MPM_FLAGS=(\"--mpm-resume\" \"--logging\" \"--log-dir\" \"--framework-path\" \"--agents-dir\" \"--no-hooks\" \"--no-tickets\" \"--subprocess\" \"--interactive-subprocess\" \"--todo-hijack\" \"-i\" \"--input\" \"--non-interactive\" \"--no-native-agents\" \"-d\" \"--debug\" \"--launch-method\" \"--monitor\" \"--websocket-port\")",
        "has_resume": false,
        "has_mmp_resume": true,
        "expected": "--resume should NOT be in MPM_FLAGS, --mmp-resume should be"
      }
    },
    {
      "name": "resume_passthrough",
      "passed": true,
      "details": {
        "resume_test": {
          "command": "/Users/masa/Projects/claude-mpm/scripts/claude-mpm --resume",
          "returncode": 1,
          "passed_through": true
        },
        "unknown_cmd_test": {
          "command": "/Users/masa/Projects/claude-mpm/scripts/claude-mpm some-unknown-cmd",
          "returncode": -1,
          "passed_through": true
        },
        "overall_result": true
      }
    },
    {
      "name": "mpm_run_resume",
      "passed": true,
      "details": {
        "command": "/Users/masa/Projects/claude-mpm/scripts/claude-mpm run --resume --help",
        "returncode": 0,
        "stdout_preview": "\u001b[0;32m[INFO]\u001b[0m Activating virtual environment...\n\u001b[0;32m[INFO]\u001b[0m Working directory: /Users/masa/Projects/claude-mpm\n\u001b[0;32m[INFO]\u001b[0m Framework path: /Users/masa/Projects/claude-mpm\n\u2713 Found exist...",
        "stderr_preview": "",
        "went_through_python": true
      }
    },
    {
      "name": "mpm_resume_flag",
      "passed": true,
      "details": {
        "command": "/Users/masa/Projects/claude-mpm/scripts/claude-mpm --mmp-resume --help",
        "returncode": 0,
        "stdout_preview": "\u001b[0;32m[INFO]\u001b[0m Activating virtual environment...\n\u001b[0;32m[INFO]\u001b[0m Working directory: /Users/masa/Projects/claude-mpm\n\u001b[0;32m[INFO]\u001b[0m Framework path: /Users/masa/Projects/claude-mpm\n\u001b[0;32m[INFO]...",
        "stderr_preview": "",
        "went_through_mmp": true
      }
    },
    {
      "name": "command_routing_logic",
      "passed": true,
      "details": {
        "passed_tests": 5,
        "total_tests": 5,
        "test_cases": [
          [
            [
              "--help"
            ],
            "mpm",
            "Help should go to MPM",
            "normal"
          ],
          [
            [
              "run"
            ],
            "mpm",
            "Run command should go to MPM",
            "normal"
          ],
          [
            [
              "--resume"
            ],
            "claude",
            "--resume should pass to Claude",
            "timeout"
          ],
          [
            [
              "--mpm-resume"
            ],
            "mpm",
            "--mpm-resume should go to MPM",
            "normal"
          ],
          [
            [
              "some-unknown-command"
            ],
            "claude",
            "Unknown commands should pass to Claude",
            "timeout"
          ]
        ]
      }
    },
    {
      "name": "script_consistency",
      "passed": false,
      "details": {
        "scripts_checked": 3,
        "results": {
          "/Users/masa/Projects/claude-mpm/scripts/claude-mpm": {
            "exists": true,
            "type": "bash",
            "has_resume_logic": true
          },
          "/Users/masa/Projects/claude-mpm/bin/claude-mpm": {
            "exists": true,
            "type": "node/python",
            "resume_behavior": "different_architecture"
          },
          "/Users/masa/Projects/claude-mpm/claude-mpm": {
            "exists": true,
            "type": "bash",
            "has_resume_logic": false
          }
        },
        "bash_scripts": [
          "/Users/masa/Projects/claude-mpm/scripts/claude-mpm",
          "/Users/masa/Projects/claude-mpm/claude-mpm"
        ]
      }
    }
  ],
  "critical_tests_status": {
    "passed": 3,
    "total": 3,
    "success": true
  },
  "timestamp": "Tue Aug 19 03:38:19 EDT 2025"
}