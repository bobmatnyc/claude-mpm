var te=Object.defineProperty;var F=s=>{throw TypeError(s)};var ie=(s,e,r)=>e in s?te(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var C=(s,e,r)=>ie(s,typeof e!="symbol"?e+"":e,r),K=(s,e,r)=>e.has(s)||F("Cannot "+r);var a=(s,e,r)=>(K(s,e,"read from private field"),r?r.call(s):e.get(s)),_=(s,e,r)=>e.has(s)?F("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,r),$=(s,e,r,t)=>(K(s,e,"write to private field"),t?t.call(s,r):e.set(s,r),r);import{C as j,D as ne,F as T,G as ae,z as q,H as z,w as D,x as fe,I as ue,J as ce,K as le,y as oe,L as de,M as he,N as pe,O as _e,B as ve,P as G,Q as be,R as Se,b as V,S as Pe,U as N,V as H,W as ge,X as we,Y as W,Z as ye,g as y,_ as Oe,$ as Ee,a0 as m,a1 as Re,a2 as X,f as xe,a3 as Ae,a4 as Ie,a5 as Te,v as L,a6 as De,a7 as me,a8 as Me,a9 as Ne,aa as Le,ab as Be,ac as k,ad as Ue,ae as Z,af as J,ag as w}from"./DlVhAQgW.js";var d,h,o,v,O,E,A;class Ye{constructor(e,r=!0){C(this,"anchor");_(this,d,new Map);_(this,h,new Map);_(this,o,new Map);_(this,v,new Set);_(this,O,!0);_(this,E,()=>{var e=j;if(a(this,d).has(e)){var r=a(this,d).get(e),t=a(this,h).get(r);if(t)ne(t),a(this,v).delete(r);else{var i=a(this,o).get(r);i&&(a(this,h).set(r,i.effect),a(this,o).delete(r),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),t=i.effect)}for(const[n,u]of a(this,d)){if(a(this,d).delete(n),n===e)break;const f=a(this,o).get(u);f&&(T(f.effect),a(this,o).delete(u))}for(const[n,u]of a(this,h)){if(n===r||a(this,v).has(n))continue;const f=()=>{if(Array.from(a(this,d).values()).includes(n)){var p=document.createDocumentFragment();ue(u,p),p.append(q()),a(this,o).set(n,{effect:u,fragment:p})}else T(u);a(this,v).delete(n),a(this,h).delete(n)};a(this,O)||!t?(a(this,v).add(n),ae(u,f,!1)):f()}}});_(this,A,e=>{a(this,d).delete(e);const r=Array.from(a(this,d).values());for(const[t,i]of a(this,o))r.includes(t)||(T(i.effect),a(this,o).delete(t))});this.anchor=e,$(this,O,r)}ensure(e,r){var t=j,i=ce();if(r&&!a(this,h).has(e)&&!a(this,o).has(e))if(i){var n=document.createDocumentFragment(),u=q();n.append(u),a(this,o).set(e,{effect:z(()=>r(u)),fragment:n})}else a(this,h).set(e,z(()=>r(this.anchor)));if(a(this,d).set(t,e),i){for(const[f,c]of a(this,h))f===e?t.skipped_effects.delete(c):t.skipped_effects.add(c);for(const[f,c]of a(this,o))f===e?t.skipped_effects.delete(c.effect):t.skipped_effects.add(c.effect);t.oncommit(a(this,E)),t.ondiscard(a(this,A))}else D&&(this.anchor=fe),a(this,E).call(this)}}d=new WeakMap,h=new WeakMap,o=new WeakMap,v=new WeakMap,O=new WeakMap,E=new WeakMap,A=new WeakMap;function ze(s,e,r=!1){D&&oe();var t=new Ye(s),i=r?de:0;function n(u,f){if(D){const p=he(s)===pe;if(u===p){var c=_e();ve(c),t.anchor=c,G(!1),t.ensure(u,f),G(!0);return}}t.ensure(u,f)}le(()=>{var u=!1;e((f,c=!0)=>{u=!0,n(c,f)}),u||n(!1,null)},i)}function Q(s,e){return s===e||(s==null?void 0:s[N])===e}function Ge(s={},e,r,t){return be(()=>{var i,n;return Se(()=>{i=n,n=[],V(()=>{s!==r(...n)&&(e(s,...n),i&&Q(r(...i),s)&&e(null,...i))})}),()=>{Pe(()=>{n&&Q(r(...n),s)&&e(null,...n)})}}),s}let x=!1,M=Symbol();function He(s,e,r){const t=r[e]??(r[e]={store:null,source:ge(void 0),unsubscribe:H});if(t.store!==s&&!(M in r))if(t.unsubscribe(),t.store=s??null,s==null)t.source.v=void 0,t.unsubscribe=H;else{var i=!0;t.unsubscribe=we(s,n=>{i?t.source.v=n:W(t.source,n)}),i=!1}return s&&M in r?ye(s):y(t.source)}function Ze(s,e){return s.set(e),e}function Je(){const s={};function e(){Oe(()=>{for(var r in s)s[r].unsubscribe();Ee(s,M,{enumerable:!1,value:!0})})}return[s,e]}function Fe(s){var e=x;try{return x=!1,[s(),x]}finally{x=e}}const Ce={get(s,e){if(!s.exclude.includes(e))return y(s.version),e in s.special?s.special[e]():s.props[e]},set(s,e,r){if(!(e in s.special)){var t=L;try{J(s.parent_effect),s.special[e]=$e({get[e](){return s.props[e]}},e,X)}finally{J(t)}}return s.special[e](r),Z(s.version),!0},getOwnPropertyDescriptor(s,e){if(!s.exclude.includes(e)&&e in s.props)return{enumerable:!0,configurable:!0,value:s.props[e]}},deleteProperty(s,e){return s.exclude.includes(e)||(s.exclude.push(e),Z(s.version)),!0},has(s,e){return s.exclude.includes(e)?!1:e in s.props},ownKeys(s){return Reflect.ownKeys(s.props).filter(e=>!s.exclude.includes(e))}};function Qe(s,e){return new Proxy({props:s,exclude:e,special:{},version:Ue(0),parent_effect:L},Ce)}const Ke={get(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(w(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t)return t[e]}},set(s,e,r){let t=s.props.length;for(;t--;){let i=s.props[t];w(i)&&(i=i());const n=m(i,e);if(n&&n.set)return n.set(r),!0}return!1},getOwnPropertyDescriptor(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(w(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t){const i=m(t,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(s,e){if(e===N||e===k)return!1;for(let r of s.props)if(w(r)&&(r=r()),r!=null&&e in r)return!0;return!1},ownKeys(s){const e=[];for(let r of s.props)if(w(r)&&(r=r()),!!r){for(const t in r)e.includes(t)||e.push(t);for(const t of Object.getOwnPropertySymbols(r))e.includes(t)||e.push(t)}return e}};function Ve(...s){return new Proxy({props:s},Ke)}function $e(s,e,r,t){var U;var i=!Me||(r&Ne)!==0,n=(r&me)!==0,u=(r&Be)!==0,f=t,c=!0,p=()=>(c&&(c=!1,f=u?V(t):t),f),S;if(n){var ee=N in s||k in s;S=((U=m(s,e))==null?void 0:U.set)??(ee&&e in s?l=>s[e]=l:void 0)}var P,B=!1;n?[P,B]=Fe(()=>s[e]):P=s[e],P===void 0&&t!==void 0&&(P=p(),S&&(i&&Re(),S(P)));var b;if(i?b=()=>{var l=s[e];return l===void 0?p():(c=!0,l)}:b=()=>{var l=s[e];return l!==void 0&&(f=void 0),l===void 0?f:l},i&&(r&X)===0)return b;if(S){var se=s.$$legacy;return(function(l,R){return arguments.length>0?((!i||!R||se||B)&&S(R?b():l),l):b()})}var I=!1,g=((r&Le)!==0?xe:Ae)(()=>(I=!1,b()));n&&y(g);var re=L;return(function(l,R){if(arguments.length>0){const Y=R?y(g):i&&n?Ie(l):l;return W(g,Y),I=!0,f!==void 0&&(f=Y),l}return Te&&I||(re.f&De)!==0?g.v:y(g)})}export{Ye as B,Je as a,Ge as b,Ze as c,Ve as d,ze as i,Qe as l,$e as p,He as s};
