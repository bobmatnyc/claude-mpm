import{d as Ce,f as u,a as o,s as f,c as be}from"../chunks/BFMo5YKf.js";import{v as Pe,w as Ie,H as Je,o as _e,x as Ge,C as Ke,y as ye,z as he,A as we,B as Ue,p as je,s as i,t as A,k as Me,m as a,n as t,g as e,D as se,E as le,F as ke,u as We,G as O,j as J,I as $e,$ as qe}from"../chunks/ByjQPWRS.js";import{s as Ee,e as re,a as V,i as me,H as Qe}from"../chunks/C1R9LCK0.js";import{p as Se,i as L}from"../chunks/DClXPpQS.js";function Re(B,x){let _=null,g=_e;var v;if(_e){_=Ue;for(var n=Ge(document.head);n!==null&&(n.nodeType!==Ke||n.data!==B);)n=ye(n);if(n===null)he(!1);else{var y=ye(n);n.remove(),we(y)}}_e||(v=document.head.appendChild(Pe()));try{Ie(()=>x(v),Je)}finally{g&&(he(!0),we(_))}}var Xe=u('<div class="text-center py-12 text-slate-500"><svg class="w-16 h-16 mx-auto mb-3 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg> <p class="text-lg mb-2">No events yet</p> <p class="text-sm">Waiting for Claude activity...</p></div>'),Ye=u('<span class="text-xs px-2 py-0.5 rounded-md bg-slate-700/50 text-slate-300 truncate"> </span>'),Ze=u('<button><div class="flex items-center justify-between mb-1.5"><div class="flex items-center gap-2 min-w-0 flex-1"><span> </span> <!></div> <span class="text-xs text-slate-500 ml-2 flex-shrink-0"> </span></div> <div class="text-sm text-slate-300 truncate"> </div></button>'),et=u('<div class="divide-y divide-slate-700/50"></div>'),tt=u('<div class="flex flex-col h-full"><div class="flex items-center justify-between px-6 py-3 bg-slate-800 border-b border-slate-700"><h2 class="text-lg font-semibold text-white">Event Stream</h2> <div class="flex items-center gap-3"><span class="text-sm text-slate-400"> </span> <button class="px-3 py-1 text-xs font-medium bg-slate-700 hover:bg-slate-600 rounded transition-colors">Clear</button></div></div> <div class="flex-1 overflow-y-auto"><!></div></div>');function at(B,x){je(x,!0);let _=Se(x,"selectedEvent",15,null),g=Se(x,"selectedStream",3,"all"),v=se(()=>Ee.events),n=se(()=>g()==="all"?e(v):e(v).filter(r=>r.sessionId===g()));function y(r){return new Date(r).toLocaleTimeString()}function z(r){switch(r){case"tool_call":return"text-blue-400";case"tool_result":return"text-green-400";case"message":return"text-purple-400";case"error":return"text-red-400";default:return"text-slate-400"}}function C(r){switch(r){case"tool_call":return"bg-blue-500/5 hover:bg-blue-500/10 border-blue-500/20";case"tool_result":return"bg-green-500/5 hover:bg-green-500/10 border-green-500/20";case"message":return"bg-purple-500/5 hover:bg-purple-500/10 border-purple-500/20";case"error":return"bg-red-500/5 hover:bg-red-500/10 border-red-500/20";default:return"bg-slate-500/5 hover:bg-slate-500/10 border-slate-500/20"}}function D(){Ee.clearEvents(),_(null)}function S(r){_(r)}function ne(r){if(r.type==="tool_call"&&typeof r.data=="object"&&r.data!==null)return`${r.data.tool_name||"Unknown tool"}`;if(r.type==="message"&&typeof r.data=="object"&&r.data!==null){const h=r.data;return String(h.content||"Message").slice(0,60)}if(r.type==="error"&&typeof r.data=="object"&&r.data!==null){const h=r.data;return String(h.message||"Error").slice(0,60)}return r.type}var G=tt(),K=a(G),s=i(a(K),2),d=a(s),b=a(d);t(d);var l=i(d,2);l.__click=D,t(s),t(K);var Y=i(K,2),F=a(Y);{var U=r=>{var h=Xe();o(r,h)},oe=r=>{var h=et();re(h,21,()=>e(n),k=>k.id,(k,p)=>{var m=Ze();m.__click=()=>S(e(p));var j=a(m),w=a(j),M=a(w),P=a(M,!0);t(M);var W=i(M,2);{var ie=E=>{var c=Ye(),q=a(c,!0);t(c),A(()=>f(q,e(p).agent)),o(E,c)};L(W,E=>{e(p).agent&&E(ie)})}t(w);var Z=i(w,2),H=a(Z,!0);t(Z),t(j);var $=i(j,2),ve=a($,!0);t($),t(m),A((E,c,q,Q)=>{V(m,1,`w-full text-left px-4 py-3 transition-colors border-l-2
							${E??""}`),V(M,1,`font-mono text-xs px-2 py-0.5 rounded-md bg-black/30 ${c??""} font-medium`),f(P,e(p).type),f(H,q),f(ve,Q)},[()=>{var E;return((E=_())==null?void 0:E.id)===e(p).id?"bg-slate-700/30 border-l-cyan-500":"border-l-transparent "+C(e(p).type)},()=>z(e(p).type),()=>y(e(p).timestamp),()=>ne(e(p))]),o(k,m)}),t(h),o(r,h)};L(F,r=>{e(n).length===0?r(U):r(oe,!1)})}t(Y),t(G),A(()=>f(b,`${e(n).length??""} events`)),o(B,G),Me()}Ce(["click"]);var rt=u('<div class="text-center py-12 text-slate-500"><svg class="w-12 h-12 mx-auto mb-3 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> <p class="text-sm">Select an event to view details</p></div>'),st=u('<div class="ml-4"><span class="text-cyan-400"> </span> <span> </span></div>'),lt=u('<button class="inline-flex items-center hover:bg-slate-800 rounded px-1 -ml-1"><svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg> <span class="text-cyan-400"> </span> <span class="text-slate-500 ml-1"> </span></button> <!>',1),nt=u('<span class="text-cyan-400"> </span> <span> </span>',1),ot=u('<div class="ml-4 mb-1"><!></div>'),it=u('<button class="inline-flex items-center hover:bg-slate-800 rounded px-1 -ml-1"><svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg> <span class="text-cyan-400"> </span> <span class="text-slate-500 ml-1"> </span></button> <!>',1),vt=u('<span class="text-cyan-400"> </span> <span> </span>',1),dt=u('<div class="mb-1"><!></div>'),ct=u('<div class="font-mono text-xs"></div>'),ut=u('<div class="flex flex-col h-full bg-slate-900 border-r border-slate-700"><div class="px-4 py-3 bg-slate-800 border-b border-slate-700"><h3 class="text-sm font-semibold text-white">JSON Data Explorer</h3></div> <div class="flex-1 overflow-y-auto p-4"><!></div></div>');function pt(B,x){je(x,!0);function _(s,d=""){return s==null?[]:Array.isArray(s)?s.map((b,l)=>({key:`[${l}]`,value:b,type:typeof b=="object"&&b!==null?"object":typeof b,expanded:!1,children:typeof b=="object"&&b!==null?_(b):void 0})):typeof s=="object"?Object.entries(s).map(([b,l])=>({key:b,value:l,type:Array.isArray(l)?"array":typeof l=="object"&&l!==null?"object":typeof l,expanded:!1,children:typeof l=="object"&&l!==null?_(l):void 0})):[]}let g=le(ke([])),v=le(ke(new Set));We(()=>{x.event?(O(g,_(x.event),!0),O(v,new Set(e(g).map((s,d)=>`${d}`)),!0)):(O(g,[],!0),O(v,new Set,!0))});function n(s){e(v).has(s)?e(v).delete(s):e(v).add(s),O(v,new Set(e(v)),!0)}function y(s){return e(v).has(s)}function z(s,d){return s===null?"null":s===void 0?"undefined":d==="string"?`"${s}"`:d==="boolean"||d==="number"?String(s):""}function C(s){switch(s){case"string":return"text-green-400";case"number":return"text-blue-400";case"boolean":return"text-purple-400";case"null":return"text-slate-500";default:return"text-slate-300"}}var D=ut(),S=i(a(D),2),ne=a(S);{var G=s=>{var d=rt();o(s,d)},K=s=>{var d=ct();re(d,21,()=>e(g),me,(b,l,Y)=>{const F=se(()=>`${Y}`);var U=dt(),oe=a(U);{var r=k=>{var p=it(),m=J(p);m.__click=()=>n(e(F));var j=a(m),w=i(j,2),M=a(w,!0);t(w);var P=i(w,2),W=a(P,!0);t(P),t(m);var ie=i(m,2);{var Z=H=>{var $=be(),ve=J($);re(ve,17,()=>e(l).children,me,(E,c,q)=>{const Q=se(()=>`${e(F)}.${q}`);var de=ot(),Te=a(de);{var Ae=I=>{var R=lt(),T=J(R);T.__click=()=>n(e(Q));var ee=a(T),N=i(ee,2),ce=a(N,!0);t(N);var te=i(N,2),ue=a(te,!0);t(te),t(T);var ze=i(T,2);{var De=X=>{var ge=be(),He=J(ge);re(He,17,()=>e(c).children,me,(Ne,ae)=>{var pe=st(),fe=a(pe),Oe=a(fe);t(fe);var xe=i(fe,2),Ve=a(xe,!0);t(xe),t(pe),A((Le,Fe)=>{f(Oe,`${e(ae).key??""}:`),V(xe,1,`${Le??""} ml-1`),f(Ve,Fe)},[()=>C(e(ae).type),()=>z(e(ae).value,e(ae).type)]),o(Ne,pe)}),o(X,ge)};L(ze,X=>{y(e(Q))&&e(c).children&&X(De)})}A(X=>{V(ee,0,`w-3 h-3 mr-1 transition-transform ${X??""}`),f(ce,e(c).key),f(ue,e(c).type==="array"?"[]":"{}")},[()=>y(e(Q))?"rotate-90":""]),o(I,R)},Be=I=>{var R=nt(),T=J(R),ee=a(T);t(T);var N=i(T,2),ce=a(N,!0);t(N),A((te,ue)=>{f(ee,`${e(c).key??""}:`),V(N,1,`${te??""} ml-1`),f(ce,ue)},[()=>C(e(c).type),()=>z(e(c).value,e(c).type)]),o(I,R)};L(Te,I=>{e(c).children&&e(c).children.length>0?I(Ae):I(Be,!1)})}t(de),o(E,de)}),o(H,$)};L(ie,H=>{y(e(F))&&H(Z)})}A(H=>{V(j,0,`w-3 h-3 mr-1 transition-transform ${H??""}`),f(M,e(l).key),f(W,e(l).type==="array"?"[]":"{}")},[()=>y(e(F))?"rotate-90":""]),o(k,p)},h=k=>{var p=vt(),m=J(p),j=a(m);t(m);var w=i(m,2),M=a(w,!0);t(w),A((P,W)=>{f(j,`${e(l).key??""}:`),V(w,1,`${P??""} ml-1`),f(M,W)},[()=>C(e(l).type),()=>z(e(l).value,e(l).type)]),o(k,p)};L(oe,k=>{e(l).children&&e(l).children.length>0?k(r):k(h,!1)})}t(U),o(b,U)}),t(d),o(s,d)};L(ne,s=>{x.event?s(K,!1):s(G)})}t(S),t(D),o(B,D),Me()}Ce(["click"]);var ft=u('<div class="flex flex-col h-screen bg-slate-900"><!> <div class="flex flex-1 min-h-0"><div class="w-80 flex-shrink-0"><!></div> <div class="flex-1 min-w-0"><!></div></div></div>');function bt(B){let x=le(null),_=le("all");var g=ft();Re("1uha8ag",S=>{$e(()=>{qe.title="Claude MPM Monitor"})});var v=a(g);Qe(v,{get selectedStream(){return e(_)},set selectedStream(S){O(_,S,!0)}});var n=i(v,2),y=a(n),z=a(y);pt(z,{get event(){return e(x)}}),t(y);var C=i(y,2),D=a(C);at(D,{get selectedStream(){return e(_)},get selectedEvent(){return e(x)},set selectedEvent(S){O(x,S,!0)}}),t(C),t(n),t(g),o(B,g)}export{bt as component};
