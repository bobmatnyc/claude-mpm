import{d as de,f as V,a as R,s as O,c as ce}from"../chunks/C62rrBXN.js";import"../chunks/3momYTMl.js";import{q as A,x as pe,w as se,g as T,L as ge,y as _e,H as me,z as j,A as Y,B as L,s as $,M as le,N as xe,O as ee,j as he,o as U,v as be,P as K,Q as Ee,R as re,S as ye,T as we,U as Te,V as Ce,n as W,W as M,k as ie,p as fe,X as J,Y as X,Z as Se,m as ke,_ as Ne,$ as Ae,C as Me,K as D,F as P,G as Ie,I as h,J as b,a0 as De,D as Re,a1 as Fe,a2 as He}from"../chunks/4s2eu_9P.js";import{i as ae}from"../chunks/lhBgxQY6.js";import{s as te,a as Oe}from"../chunks/CmOwMFt5.js";function $e(e,n,t){for(var v=[],_=n.length,l,i=n.length,a=0;a<_;a++){let u=n[a];fe(u,()=>{if(l){if(l.pending.delete(u),l.done.add(u),l.pending.size===0){var E=e.outrogroups;G(K(l.done)),E.delete(l),E.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var s=v.length===0&&t!==null;if(s){var f=t,o=f.parentNode;Se(o),o.append(f),e.items.clear()}G(n,!s)}else l={pending:new Set(n),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(l)}function G(e,n=!0){for(var t=0;t<e.length;t++)ke(e[t],n)}var ne;function ze(e,n,t,v,_,l=null){var i=e,a=new Map;A&&pe();var s=null,f=ge(()=>{var d=t();return Ee(d)?d:d==null?[]:K(d)}),o,u=!0;function E(){r.fallback=s,Le(r,o,i,n,v),s!==null&&(o.length===0?(s.f&M)===0?ie(s):(s.f^=M,z(s,null,i)):fe(s,()=>{s=null}))}var I=se(()=>{o=T(f);var d=o.length;let c=!1;if(A){var y=_e(i)===me;y!==(d===0)&&(i=j(),Y(i),L(!1),c=!0)}for(var m=new Set,w=he,x=be(),p=0;p<d;p+=1){A&&$.nodeType===le&&$.data===xe&&(i=$,c=!0,L(!1));var k=o[p],C=v(k,p),g=u?null:a.get(C);g?(g.v&&ee(g.v,k),g.i&&ee(g.i,p),x&&w.skipped_effects.delete(g.e)):(g=Ve(a,u?i:ne??(ne=W()),k,C,p,_,n,t),u||(g.e.f|=M),a.set(C,g)),m.add(C)}if(d===0&&l&&!s&&(u?s=U(()=>l(i)):(s=U(()=>l(ne??(ne=W()))),s.f|=M)),A&&d>0&&Y(j()),!u)if(x){for(const[S,q]of a)m.has(S)||w.skipped_effects.add(q.e);w.oncommit(E),w.ondiscard(()=>{})}else E();c&&L(!0),T(f)}),r={effect:I,items:a,outrogroups:null,fallback:s};u=!1,A&&(i=$)}function Le(e,n,t,v,_){var g;var l=n.length,i=e.items,a=e.effect.first,s,f=null,o=[],u=[],E,I,r,d;for(d=0;d<l;d+=1){if(E=n[d],I=_(E,d),r=i.get(I).e,e.outrogroups!==null)for(const S of e.outrogroups)S.pending.delete(r),S.done.delete(r);if((r.f&M)!==0)if(r.f^=M,r===a)z(r,null,t);else{var c=f?f.next:a;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),N(e,f,r),N(e,r,c),z(r,c,t),f=r,o=[],u=[],a=f.next;continue}if((r.f&J)!==0&&ie(r),r!==a){if(s!==void 0&&s.has(r)){if(o.length<u.length){var y=u[0],m;f=y.prev;var w=o[0],x=o[o.length-1];for(m=0;m<o.length;m+=1)z(o[m],y,t);for(m=0;m<u.length;m+=1)s.delete(u[m]);N(e,w.prev,x.next),N(e,f,w),N(e,x,y),a=y,f=x,d-=1,o=[],u=[]}else s.delete(r),z(r,a,t),N(e,r.prev,r.next),N(e,r,f===null?e.effect.first:f.next),N(e,f,r),f=r;continue}for(o=[],u=[];a!==null&&a!==r;)(s??(s=new Set)).add(a),u.push(a),a=a.next;if(a===null)continue}(r.f&M)===0&&o.push(r),f=r,a=r.next}if(e.outrogroups!==null){for(const S of e.outrogroups)S.pending.size===0&&(G(K(S.done)),(g=e.outrogroups)==null||g.delete(S));e.outrogroups.size===0&&(e.outrogroups=null)}if(a!==null||s!==void 0){var p=[];if(s!==void 0)for(r of s)(r.f&J)===0&&p.push(r);for(;a!==null;)(a.f&J)===0&&a!==e.fallback&&p.push(a),a=a.next;var k=p.length;if(k>0){var C=null;$e(e,p,C)}}}function Ve(e,n,t,v,_,l,i,a){var s=(i&Te)!==0?(i&Ce)===0?ye(t,!1,!1):re(t):null,f=(i&we)!==0?re(_):null;return{v:s,i:f,e:U(()=>(l(n,s??t,f??_,a),()=>{e.delete(v)}))}}function z(e,n,t){if(e.nodes)for(var v=e.nodes.start,_=e.nodes.end,l=n&&(n.f&M)===0?n.nodes.start:t;v!==null;){var i=X(v);if(l.before(v),v===_)return;v=i}}function N(e,n,t){n===null?e.effect.first=t:n.next=t,t===null?e.effect.last=n:t.prev=n}function Ye(e,n){let t=null,v=A;var _;if(A){t=$;for(var l=Ae(document.head);l!==null&&(l.nodeType!==le||l.data!==e);)l=X(l);if(l===null)L(!1);else{var i=X(l);l.remove(),Y(i)}}A||(_=document.head.appendChild(W()));try{se(()=>n(_),Ne)}finally{v&&(L(!0),Y(t))}}var qe=V('<div class="text-center py-12 text-slate-500"><p class="text-lg mb-2">No events yet</p> <p class="text-sm">Waiting for Claude activity...</p></div>'),Be=V('<span class="text-xs px-2 py-1 rounded bg-black/20"> </span>'),Je=V('<div><div class="flex items-start justify-between mb-2"><div class="flex items-center gap-2"><span class="font-mono text-xs px-2 py-1 rounded bg-black/20"> </span> <!></div> <span class="text-xs opacity-60"> </span></div> <pre class="text-xs overflow-x-auto bg-black/20 rounded p-3 mt-2"> </pre></div>'),Pe=V('<div class="flex flex-col h-full"><div class="flex items-center justify-between px-6 py-3 bg-slate-800 border-b border-slate-700"><h2 class="text-lg font-semibold text-white">Event Stream</h2> <div class="flex items-center gap-3"><span class="text-sm text-slate-400"> </span> <button class="px-3 py-1 text-xs font-medium bg-slate-700 hover:bg-slate-600 rounded transition-colors">Clear</button></div></div> <div class="flex-1 overflow-y-auto p-6 space-y-3"><!></div></div>');function Ue(e,n){Me(n,!0);let t=De(()=>te.events);function v(c){return new Date(c).toLocaleTimeString()}function _(c){switch(c){case"tool_call":return"bg-blue-500/10 border-blue-500/30 text-blue-400";case"tool_result":return"bg-green-500/10 border-green-500/30 text-green-400";case"message":return"bg-purple-500/10 border-purple-500/30 text-purple-400";case"error":return"bg-red-500/10 border-red-500/30 text-red-400";default:return"bg-slate-500/10 border-slate-500/30 text-slate-400"}}function l(){te.clearEvents()}var i=Pe(),a=h(i),s=D(h(a),2),f=h(s),o=h(f);b(f);var u=D(f,2);u.__click=l,b(s),b(a);var E=D(a,2),I=h(E);{var r=c=>{var y=qe();R(c,y)},d=c=>{var y=ce(),m=Re(y);ze(m,17,()=>T(t),w=>w.id,(w,x)=>{var p=Je(),k=h(p),C=h(k),g=h(C),S=h(g,!0);b(g);var q=D(g,2);{var oe=F=>{var H=Be(),B=h(H,!0);b(H),P(()=>O(B,T(x).agent)),R(F,H)};ae(q,F=>{T(x).agent&&F(oe)})}b(C);var Q=D(C,2),ue=h(Q,!0);b(Q),b(k);var Z=D(k,2),ve=h(Z);b(Z),b(p),P((F,H,B)=>{Oe(p,1,`border rounded-lg p-4 ${F??""}`),O(S,T(x).type),O(ue,H),O(ve,`${B??""}
					`)},[()=>_(T(x).type),()=>v(T(x).timestamp),()=>JSON.stringify(T(x).data,null,2)]),R(w,p)}),R(c,y)};ae(I,c=>{T(t).length===0?c(r):c(d,!1)})}b(E),b(i),P(()=>O(o,`${T(t).length??""} events`)),R(e,i),Ie()}de(["click"]);var We=V('<div class="h-full"><!></div>');function je(e){var n=We();Ye("1uha8ag",v=>{Fe(()=>{He.title="Claude MPM Monitor"})});var t=h(n);Ue(t,{}),b(n),R(e,n)}export{je as component};
