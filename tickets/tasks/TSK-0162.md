---
actual_hours: null
assignees: []
created_at: '2025-08-21T23:27:06.031367'
dependencies: []
description: "Test the newly implemented MCP server and monitor setup logging to ensure\
  \ it provides useful debugging information.\n\n## Files to Test:\n- `/Users/masa/Projects/claude-mpm/src/claude_mpm/cli/startup_logging.py`\
  \ (NEW)\n- `/Users/masa/Projects/claude-mpm/src/claude_mpm/cli/commands/run.py`\
  \ (MODIFIED)\n\n## Test Scenarios:\n\n### 1. MCP Server Logging Tests:\n- Test when\
  \ MCP server is installed\n- Test when MCP server is not installed\n- Test when\
  \ ~/.claude.json exists with MCP configuration\n- Test when ~/.claude.json is missing\
  \ or has no MCP config\n- Verify version detection works or shows \"unknown\" gracefully\n\
  \n### 2. Monitor Setup Logging Tests:\n- Test when monitor mode is enabled\n- Test\
  \ when monitor mode is disabled\n- Test when SocketIO dependencies are present\n\
  - Test when SocketIO dependencies are missing\n- Test when SocketIO server is running\
  \ on a port\n- Test response logging configuration display\n\n### 3. Integration\
  \ Tests:\n- Verify logging appears after \"Starting Claude MPM session\"\n- Ensure\
  \ logging doesn't break startup sequence\n- Test in different deployment contexts\
  \ if possible\n- Verify error handling doesn't cause crashes\n\n## Expected Log\
  \ Output Format:\n```\nINFO: Starting Claude MPM session\nINFO: MCP Server: Installed\
  \ at /path/to/claude-mpm-mcp\nINFO: MCP Server: Version X.X.X (or \"unknown\")\n\
  INFO: MCP Server: Configuration found in ~/.claude.json\nINFO: MCP Server: X server(s)\
  \ configured\nINFO: MCP Gateway: Claude MPM gateway configured/not configured\n\
  INFO: Monitor: Mode enabled/disabled\nINFO: Monitor: Socket.IO dependencies available/missing\n\
  INFO: Monitor: Socket.IO server on port XXXX / not running\nINFO: Monitor: Response\
  \ logging to .claude-mpm/logs/responses/\n```\n\n## Test Execution:\n\n1. **Run\
  \ the application** to see the new logging:\n   ```bash\n   claude-mpm run\n   ```\n\
  \n2. **Check different configurations**:\n   - With and without MCP configured\n\
  \   - With and without monitor mode enabled\n   - With and without SocketIO server\
  \ running\n\n3. **Verify log quality**:\n   - Information is accurate\n   - Format\
  \ is consistent\n   - No unnecessary verbosity\n   - Helpful for debugging\n\n##\
  \ Required Reporting:\n- Whether logging appears correctly\n- Any errors or issues\
  \ encountered\n- Whether the information is helpful for debugging\n- Any improvements\
  \ needed\n- Test coverage for all scenarios listed above"
due_date: null
estimated_hours: null
id: TSK-0162
labels: []
metadata: {}
parent: null
priority: high
status: open
tags:
- qa
- logging
- mcp
- monitor
- startup
title: 'QA Test: Enhanced MCP and Monitor Setup Logging'
updated_at: '2025-08-21T23:27:06.031367'
---

# QA Test: Enhanced MCP and Monitor Setup Logging

## Description
Test the newly implemented MCP server and monitor setup logging to ensure it provides useful debugging information.

## Files to Test:
- `/Users/masa/Projects/claude-mpm/src/claude_mpm/cli/startup_logging.py` (NEW)
- `/Users/masa/Projects/claude-mpm/src/claude_mpm/cli/commands/run.py` (MODIFIED)

## Test Scenarios:

### 1. MCP Server Logging Tests:
- Test when MCP server is installed
- Test when MCP server is not installed
- Test when ~/.claude.json exists with MCP configuration
- Test when ~/.claude.json is missing or has no MCP config
- Verify version detection works or shows "unknown" gracefully

### 2. Monitor Setup Logging Tests:
- Test when monitor mode is enabled
- Test when monitor mode is disabled
- Test when SocketIO dependencies are present
- Test when SocketIO dependencies are missing
- Test when SocketIO server is running on a port
- Test response logging configuration display

### 3. Integration Tests:
- Verify logging appears after "Starting Claude MPM session"
- Ensure logging doesn't break startup sequence
- Test in different deployment contexts if possible
- Verify error handling doesn't cause crashes

## Expected Log Output Format:
```
INFO: Starting Claude MPM session
INFO: MCP Server: Installed at /path/to/claude-mpm-mcp
INFO: MCP Server: Version X.X.X (or "unknown")
INFO: MCP Server: Configuration found in ~/.claude.json
INFO: MCP Server: X server(s) configured
INFO: MCP Gateway: Claude MPM gateway configured/not configured
INFO: Monitor: Mode enabled/disabled
INFO: Monitor: Socket.IO dependencies available/missing
INFO: Monitor: Socket.IO server on port XXXX / not running
INFO: Monitor: Response logging to .claude-mpm/logs/responses/
```

## Test Execution:

1. **Run the application** to see the new logging:
   ```bash
   claude-mpm run
   ```

2. **Check different configurations**:
   - With and without MCP configured
   - With and without monitor mode enabled
   - With and without SocketIO server running

3. **Verify log quality**:
   - Information is accurate
   - Format is consistent
   - No unnecessary verbosity
   - Helpful for debugging

## Required Reporting:
- Whether logging appears correctly
- Any errors or issues encountered
- Whether the information is helpful for debugging
- Any improvements needed
- Test coverage for all scenarios listed above

## Details
- **Status**: open
- **Priority**: high
- **Assignees**: None
- **Tags**: qa, logging, mcp, monitor, startup
- **Created**: 2025-08-21 23:27:06
- **Updated**: 2025-08-21 23:27:06

## Tasks
- [ ] Add task items here

## Notes
_Add any additional notes or context here._
