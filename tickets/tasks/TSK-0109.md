---
actual_hours: null
assignees: []
created_at: '2025-08-18T01:30:03.892095'
dependencies: []
description: "Update all version-related files for the 4.0.4 patch release:\n\n###\
  \ Version Files to Update:\n1. **VERSION file**: Update to \"4.0.4\"\n2. **package.json**:\
  \ Update version field to \"4.0.4\" \n3. **CHANGELOG.md**: Add release notes section\
  \ for 4.0.4\n\n### Release Notes for CHANGELOG.md:\n```markdown\n## [4.0.4] - 2025-08-18\n\
  \n### Bug Fixes\n- Fixed Socket.IO dashboard event parsing showing events as \"\
  unknown\"\n- Fixed JavaScript errors in file-tool-tracker.js (undefined.includes)\n\
  - Fixed event-viewer.js replace() function errors with non-string values\n- Fixed\
  \ hook event routing to properly handle hook.* prefixed events\n- Added regression\
  \ tests for hook routing logic\n\n### Improvements\n- Added smart process detection\
  \ for port management\n- Enhanced error handling in dashboard JavaScript\n- Improved\
  \ event transformation to protect critical fields\n- Added sticky JSON toggle feature\
  \ for dashboard debugging\n- Better handling of malformed events\n\n### Documentation\
  \ Updates\n- Removed Memory Guardian references\n- Updated agent list documentation\
  \ (15 agents)\n- Highlighted MCP gateway feature\n- Added release management documentation\n\
  ```\n\n### Current Context:\n- Working directory: /Users/masa/Projects/claude-mpm\n\
  - Current branch: main\n- This is a patch release focusing on dashboard fixes and\
  \ improvements\n\nPlease verify the current version in VERSION file and update all\
  \ necessary files for the 4.0.4 release."
due_date: null
estimated_hours: null
id: TSK-0109
labels: []
metadata: {}
parent: null
priority: high
status: open
tags:
- release
- version-management
- deployment
title: '[Ops] Update version files and package configuration for 4.0.4 release'
updated_at: '2025-08-18T01:30:03.892095'
---

# [Ops] Update version files and package configuration for 4.0.4 release

## Description
Update all version-related files for the 4.0.4 patch release:

### Version Files to Update:
1. **VERSION file**: Update to "4.0.4"
2. **package.json**: Update version field to "4.0.4" 
3. **CHANGELOG.md**: Add release notes section for 4.0.4

### Release Notes for CHANGELOG.md:
```markdown
## [4.0.4] - 2025-08-18

### Bug Fixes
- Fixed Socket.IO dashboard event parsing showing events as "unknown"
- Fixed JavaScript errors in file-tool-tracker.js (undefined.includes)
- Fixed event-viewer.js replace() function errors with non-string values
- Fixed hook event routing to properly handle hook.* prefixed events
- Added regression tests for hook routing logic

### Improvements
- Added smart process detection for port management
- Enhanced error handling in dashboard JavaScript
- Improved event transformation to protect critical fields
- Added sticky JSON toggle feature for dashboard debugging
- Better handling of malformed events

### Documentation Updates
- Removed Memory Guardian references
- Updated agent list documentation (15 agents)
- Highlighted MCP gateway feature
- Added release management documentation
```

### Current Context:
- Working directory: /Users/masa/Projects/claude-mpm
- Current branch: main
- This is a patch release focusing on dashboard fixes and improvements

Please verify the current version in VERSION file and update all necessary files for the 4.0.4 release.

## Details
- **Status**: open
- **Priority**: high
- **Assignees**: None
- **Tags**: release, version-management, deployment
- **Created**: 2025-08-18 01:30:03
- **Updated**: 2025-08-18 01:30:03

## Tasks
- [ ] Add task items here

## Notes
_Add any additional notes or context here._
